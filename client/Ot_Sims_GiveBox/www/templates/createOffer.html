<ion-view>

	<ion-nav-title class="nav-title green">
		GiveBox
	</ion-nav-title>

	<ion-content>
		<form novalidate>
			<ion-list type="card">
			<!--<div class="list list-inset">-->
					<ion-item id="titleLabel">
						<input type="text" class="balanced width-max" ng-model="offer.title" placeholder="Titre de votre offre"></input>
					</ion-item>
					<ion-item id="descriptionLabel">
						<input type="text" class="balanced width-max" ng-model="offer.description" placeholder="Description de votre offre"></input>
					</ion-item>
			</ion-list>
			
			<ion-list type="card">
					<ion-checkbox class="balanced item-checkbox-right" ng-model="offer.shareNumber"><strong>Partager mon numéro de téléphone</strong></ion-checkbox>
			</ion-list>

			<ion-list type="card">
				<label class="item item-input item-select" id="categorieLabel">
				<!--<ion-item>-->
					
						<div class="input-label balanced">
							<strong>Catégorie</strong>
						</div>
						<select ng-model="offer.categorie" ng-options="categorie.name group by categorie.parent for categorie in categories">
							<option value="">Choisir une catégorie</option>
						</select>
				</label>
				<label class="item item-toggle" id="locLabel">
					<div class="balanced">
						<strong>Ma position</strong>
					</div>
					<label class="toggle toggle-balanced">
						<input type="checkbox" ng-click="updatePosition()" ng-model="location.checked">
						<div class="track">
							<div class="handle"></div>
						</div>
					</label>
				</label>

				<label class="item item-input">
					<div class="input-label balanced">
						<strong>Code Postal</strong>
					</div>
					<input class="text-right" type="text"  ng-model="offer.postcode" ng-change="findLocalityFromPostcode()"></input>
				</label>

				<label class="item item-input item-select">
					<div class="input-label balanced">
						<strong>Ville</strong>
					</div>
					<select ng-model="offer.town" ng-options="city for city in cities">
						<option value="">Votre ville</option>
					</select>
				</label>
			</ion-list>

			<ion-list type="card">
				<ion-item>
					<span class="balanced"><strong>Photos/Videos</strong></span>
				</ion-item>
				<ion-item>
					<ion-scroll direction="x">
						<img ng-repeat="element in allMultimedia" ng-src="{{imagePreview(element)}}" ng-click="showMultimedia($index)" class="image-list-thumb">
							<!--<i class="icon ion-play">
							</i>-->
						</img>
						<!--
						ng-style="{background: url({{imagePreview(element)}}) no-repeat 0 0 scroll,
						background-size: 100% 100%,
    height:100%,
    width:100%}"
						-->
					</ion-scroll>
				</ion-item>
				<ion-item>
					<div class="row">
						<div class="col col-33">
							<button class="button button-balanced my-file-button icon ion-android-camera" ng-click="takeAPhoto()"></button>
						</div>
						<div class="col col-33">
							<button class="button button-balanced my-file-button icon ion-android-folder-open" ng-click="importAPhoto()"></button>
						</div>
						<div class="col col-33">
							<button class="button button-balanced my-file-button icon ion-android-film" ng-click="recordAVideo()"></button>
						</div>
					</div>
				</ion-item>
			</ion-list>

			<div class="row">
				<button class="button button-balanced item-icon-right generalCreateOfferButton spaceTop" id="createOfferButton" ng-click="sendNewOfferRequest(offer)">
					<i class="icon ion-android-add"></i>
					Poster
				</button>
			</div>
		</form>
  </ion-content>

	<script id="templates/loading.html" type="text/ng-template">
		<ion-spinner class="light"></ion-spinner>
		<br />
		<span>Envoi des informations ...</span>
	</script>
</ion-view>
